{"version":3,"sources":["components/Page.js","actions/index.js","pages/DashboardApp.js"],"names":["Page","forwardRef","ref","children","title","other","propTypes","PropTypes","node","isRequired","string","addProfile","data","type","payload","deleteProfile","changePrev","page","addVPA","axios","require","RootStyle","styled","Card","justifyContent","padding","theme","spacing","DashboardApp","navigate","useNavigate","useCookies","cookies","useSelector","state","profileReducer","dispatch","useDispatch","useEffect","console","log","localStorage","getItem","get","params","number","then","res","Object","keys","length","bufferOriginal","photo","Buffer","from","logoBuffer","ent_logo","toString","first_name","last_name","email","address1","address2","city","pin","locality_of_work","highlights","enterprise","user_mast_id","user_type","ent_id","vpa","fullName","obj","JSON","stringify","name","image","setItem","setTimeout","catch","err","maxWidth","sx","pb","variant","container","item","xs","sm","md","align","img","src","width","height","alignSelf","alt","alignItems","marginTop","fname","lname"],"mappings":"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","file":"static/js/27.5d7ec16d.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { Helmet } from 'react-helmet-async';\nimport { forwardRef } from 'react';\n// material\nimport { Box } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nconst Page = forwardRef(({ children, title = '', ...other }, ref) => (\n  <Box ref={ref} {...other}>\n    <Helmet>\n      <title>{title}</title>\n    </Helmet>\n    {children}\n  </Box>\n));\n\nPage.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string\n};\n\nexport default Page;\n","export const addProfile=(data)=>({\n         \n    type: \"ADD_PROFILE\",\n    payload: {\n        data\n    }\n});\n\nexport const deleteProfile=()=>({\n         \n    type: \"DELETE_PROFILE\"\n    \n});\n\nexport const changePrev=(page)=>({\n         \n    type: \"CHANGE_PREV\",\n    payload: {\n        page\n    }\n    \n});\n\nexport const addVPA = (data) => ({\n    type: \"ADD_VPA\",\n    payload: {\n        data\n    }\n});\n\n// export const changeLanguage=(lang)=>({\n         \n//     type: \"CHANGE_LANGUAGE\",\n//     payload: {\n//         lang\n//     }\n// });\n\n// export const deleteProfile=()=>({\n         \n//     type: \"DELETE_PROFILE\",\n    \n// });\n","// material\n\nimport { styled } from '@mui/material/styles';\nimport React, { useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Grid, Container, Typography, Card, Avatar, Stack } from '@mui/material';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addProfile } from '../actions/index';\n\n// components\nimport Page from '../components/Page';\n// import ConstLang from '../components/ConstLang';\n\nconst axios = require('axios');\n\n// import {\n//   AppTasks,\n//   AppNewUsers,\n//   AppBugReports,\n//   AppItemOrders,\n//   AppNewsUpdate,\n//   AppWeeklySales,\n//   AppOrderTimeline,\n//   AppCurrentVisits,\n//   AppWebsiteVisits,\n//   AppTrafficBySite,\n//   AppCurrentSubject,\n//   AppConversionRates\n// } from '../components/_dashboard/app';\n\n// import account from '../_mocks_/account';\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled(Card)(({ theme }) => ({\n  justifyContent: 'center',\n  padding: theme.spacing(4, 4)\n}));\n\nconst DashboardApp = () => {\n  const navigate = useNavigate();\n  const [cookies, setCookie] = useCookies('');\n\n  const data = useSelector((state) => state.profileReducer);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    console.log('data', localStorage.getItem('number'));\n    axios\n      .get('/users/getData', { params: { number: localStorage.getItem('number') } })\n\n      .then((res) => {\n        console.log('data', res.data);\n        if (Object.keys(cookies).length) {\n          // console.log('data', cookies);\n          let bufferOriginal = null;\n          if (res.data[0].photo) {\n            if (res.data[0].photo.data) {\n              bufferOriginal = Buffer.from(res.data[0].photo.data);\n              // setImg(bufferOriginal.toString('utf8'));\n            }\n          }\n          let logoBuffer = null;\n          if (res.data[0].ent_logo) {\n            if (res.data[0].ent_logo.data) {\n              logoBuffer = Buffer.from(res.data[0].ent_logo.data);\n              // setImg(bufferOriginal.toString('utf8'));\n            }\n          }\n          console.log('img data', logoBuffer ? logoBuffer.toString('utf8') : 'no logo');\n          dispatch(\n            addProfile([\n              res.data[0].first_name,\n              res.data[0].last_name,\n              localStorage.getItem('number'),\n              bufferOriginal ? bufferOriginal.toString('utf8') : null,\n              res.data[0].email,\n              res.data[0].address1,\n              res.data[0].address2,\n              res.data[0].city,\n              res.data[0].pin,\n              res.data[0].state,\n              res.data[0].locality_of_work,\n              res.data[0].highlights,\n              res.data[0].enterprise,\n              res.data[0].user_mast_id,\n              res.data[0].user_type,\n              logoBuffer ? logoBuffer.toString('utf8') : null,\n              res.data[0].ent_id,\n              res.data[0].vpa,\n            ])\n          );\n          const fullName = `${res.data[0].first_name} ${res.data[0].last_name}`;\n          const obj = JSON.stringify({\n            number: localStorage.getItem('number'),\n            name: fullName,\n            image: bufferOriginal ? bufferOriginal.toString('utf8') : null\n          });\n          console.log(obj);\n          localStorage.setItem('prev_user', obj);\n        } else {\n          navigate('/sessionExpired');\n        }\n      })\n      .then(() => {\n        setTimeout(() => {\n          console.log('Welcome!');\n          navigate('/dashboard/work');\n        }, 2000);\n      })\n\n      .catch((err) => {\n        console.log('err', err);\n      });\n\n    // foo();\n  }, [localStorage.getItem('number')]);\n  return (\n    <Page title=\"Dashboard\">\n      <Container maxWidth=\"xl\">\n        <Box sx={{ pb: 5 }}>\n          <Typography variant=\"h4\">Hi, Welcome Back</Typography>\n        </Box>\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={6} md={3} align=\"center\">\n            <RootStyle>\n              {data.img ? (\n                <Avatar\n                  src={data.img}\n                  sx={{ width: 150, height: 150, alignSelf: 'center' }}\n                  alt=\"photoURL\"\n                />\n              ) : (\n                <Avatar sx={{ width: 150, height: 150, alignSelf: 'center' }} alt=\"photoURL\" />\n              )}\n            </RootStyle>\n          </Grid>\n          <Grid item xs={12} sm={6} md={6}>\n            <Stack\n              sx={{ justifyContent: 'center', alignItems: 'center', marginTop: 5 }}\n              spacing={2}\n            >\n              <Typography variant=\"h4\">\n                {data.fname} {data.lname}\n              </Typography>\n              <Typography variant=\"h4\">{data.number}</Typography>\n            </Stack>\n          </Grid>\n\n          {/* <Grid item xs={12} md={6} lg={8}>\n            <Link component={RouterLink} to=\"/dashboard/work\">\n              <Button\n                fullWidth\n                size=\"large\"\n                type=\"submit\"\n                variant=\"contained\"\n\n              >\n                Proceed\n              </Button>\n            </Link>\n          </Grid> */}\n          {/* \n          <Grid item xs={12} sm={6} md={3}>\n            <AppItemOrders />\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <AppBugReports />\n          </Grid>\n\n          \n\n          <Grid item xs={12} md={6} lg={4}>\n            <AppCurrentVisits />\n          </Grid>\n\n          <Grid item xs={12} md={6} lg={8}>\n            <AppConversionRates />\n          </Grid>\n\n          <Grid item xs={12} md={6} lg={4}>\n            <AppCurrentSubject />\n          </Grid>\n\n          <Grid item xs={12} md={6} lg={8}>\n            <AppNewsUpdate />\n          </Grid>\n\n          <Grid item xs={12} md={6} lg={4}>\n            <AppOrderTimeline />\n          </Grid>\n\n          <Grid item xs={12} md={6} lg={4}>\n            <AppTrafficBySite />\n          </Grid>\n\n          <Grid item xs={12} md={6} lg={8}>\n            <AppTasks />\n          </Grid> */}\n        </Grid>\n      </Container>\n    </Page>\n  );\n};\n\nexport default DashboardApp;\n"],"sourceRoot":""}